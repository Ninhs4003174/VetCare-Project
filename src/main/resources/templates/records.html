<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Pet Records</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
    <header>
        <nav>
            <ul class="navbar-menu">
                <li><a href="index.html"><img src="img/logo.png" alt="Logo" class="logo"></a></li>
                <li><a href="records.html">Pet Records</a></li>
                <li><a href="appointments.html">Appointments</a></li>
                <li><a href="resources.html">Resources</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="profile.html">My Profile</a></li>
                <li><a href="#"><img src="img/notif.png" alt="Notifications" class="notification-icon"></a></li>
                <li><a href="logout.html" class="btn-secondary">Log out</a></li>
            </ul>
        </nav>
    </header>
    
    <main>
        <section class="pet-records">
            <h1>Pet Medical Records</h1>

            <!-- Button to create a new record -->
            <div class="new-record-btn">
                <a th:href="@{/records/new}" class="btn-primary">Create New Record</a>
            </div>

            <!-- Example record with Edit and Delete buttons -->
            <div class="record-card">
                <div class="record-header">
                    <h2>Bella's Medical Record</h2>
                    <!-- Edit and Delete buttons next to each record -->
                    <div class="action-buttons">
                        <a th:href="@{'/records/edit/1'}" class="btn-secondary">Edit Record</a>
                        <a th:href="@{'/records/delete/1'}" class="btn-danger" onclick="return confirm('Are you sure you want to delete this record?')">Delete Record</a>
                    </div>
                </div>
                <p><strong>Owner Name:</strong> Emily Johnson</p>
                <p><strong>Veterinarian:</strong> Dr. Smith</p>
                <p><strong>Date of Birth:</strong> March 14, 2019</p>
                <p><strong>Last Visit:</strong> August 1, 2024</p>
                <p><strong>Allergies:</strong> None</p>
                <p><strong>Prescriptions:</strong> Heartworm Prevention (Monthly), Flea Control (Monthly)</p>
                <p><strong>Vaccination History:</strong>
                    <ul>
                        <li>Rabies - April 10, 2024</li>
                        <li>Distemper - April 10, 2024</li>
                        <li>Bordetella - October 5, 2023</li>
                    </ul>
                </p>
                <p><strong>Recent Tests:</strong> Blood Test (Normal), Urine Test (Normal)</p>
                <p><strong>Recent Surgeries:</strong> Spay - May 15, 2020</p>
                <p><strong>Dietary Recommendations:</strong> High-protein diet, Grain-free food</p>
                <p><strong>Notes:</strong> Bella is in good health. Recommended to continue with current diet and exercise routine.</p>
                <button class="btn-primary">Download Full Record</button>
            </div>

            <!-- Second example record with Edit and Delete buttons -->
            <div class="record-card">
                <div class="record-header">
                    <h2>Max's Medical Record</h2>
                    <div class="action-buttons">
                        <a th:href="@{'/records/edit/2'}" class="btn-secondary">Edit Record</a>
                        <a th:href="@{'/records/delete/2'}" class="btn-danger" onclick="return confirm('Are you sure you want to delete this record?')">Delete Record</a>
                    </div>
                </div>
                <p><strong>Owner Name:</strong> Jake Peterson</p>
                <p><strong>Veterinarian:</strong> Dr. Jane</p>
                <p><strong>Date of Birth:</strong> June 22, 2018</p>
                <p><strong>Last Visit:</strong> July 15, 2024</p>
                <p><strong>Allergies:</strong> Pollen, Dust</p>
                <p><strong>Prescriptions:</strong> Allergy Medication (Daily), Joint Supplements (Daily)</p>
                <p><strong>Vaccination History:</strong>
                    <ul>
                        <li>Rabies - January 20, 2024</li>
                        <li>Distemper - January 20, 2024</li>
                        <li>Leptospirosis - July 10, 2023</li>
                    </ul>
                </p>
                <p><strong>Recent Tests:</strong> Allergy Test (Positive for pollen)</p>
                <p><strong>Recent Surgeries:</strong> None</p>
                <p><strong>Dietary Recommendations:</strong> Hypoallergenic diet</p>
                <p><strong>Notes:</strong> Max has shown improvement with his allergy medication. Monitor for any changes in symptoms.</p>
                <button class="btn-primary">Download Full Record</button>
            </div>

            <!-- Dynamic records loaded via Thymeleaf -->
            <div th:each="record : ${records}" class="record-card">
                <div class="record-header">
                    <h2 th:text="${record.name} + ' Medical Record'"></h2>
                    <div class="action-buttons">
                        <!-- Dynamic edit and delete links using record.id -->
                        <a th:href="@{'/records/edit/' + ${record.id}}" class="btn-secondary">Edit Record</a>
                        <a th:href="@{'/records/delete/' + ${record.id}}" class="btn-danger" onclick="return confirm('Are you sure you want to delete this record?')">Delete Record</a>
                    </div>
                </div>
                <p><strong>Owner Name:</strong> <span th:text="${record.ownerName}"></span></p>
                <p><strong>Veterinarian:</strong> <span th:text="${record.veterinarian}"></span></p>
                <p><strong>Date of Birth:</strong> <span th:text="${#dates.format(record.dateOfBirth, 'dd/MM/yyyy')}"></span></p>
                <p><strong>Last Visit:</strong> <span th:text="${#dates.format(record.lastVisit, 'dd/MM/yyyy')}"></span></p>
                <p><strong>Allergies:</strong> <span th:text="${record.allergies}"></span></p>
                <p><strong>Prescriptions:</strong> <span th:text="${record.prescriptions}"></span></p>
                <p><strong>Vaccination History:</strong> 
                    <ul>
                        <li th:each="vaccine : ${record.vaccinationHistory}" th:text="${vaccine}"></li>
                    </ul>
                </p>
                <p><strong>Recent Tests:</strong> <span th:text="${record.recentTests}"></span></p>
                <p><strong>Recent Surgeries:</strong> <span th:text="${record.recentSurgeries}"></span></p>
                <p><strong>Dietary Recommendations:</strong> <span th:text="${record.dietaryRecommendations}"></span></p>
                <p><strong>Notes:</strong> <span th:text="${record.notes}"></span></p>
                <button class="btn-primary">Download Full Record</button>
            </div>

        </section>
    </main>
    
    <footer>
        <nav>
            <ul>
                <li><a href="index.html"><img src="img/logo.png" alt="Logo"></a></li>
                <li><a href="records.html">Pet Records</a></li>
                <li><a href="appointments.html">Appointments</a></li>
                <li><a href="resources.html">Resources</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="profile.html">My Profile</a></li>
                <li><a href="#"><img src="img/facebook.png" alt="Facebook"></a></li>
                <li><a href="#"><img src="img/linked.png" alt="LinkedIn"></a></li>
                <li><a href="#"><img src="img/insta.png" alt="Instagram"></a></li>
            </ul>
        </nav>
    </footer>
</body>
</html>
